# Reviewer

Coder + Tester成果物 → コードレビュー・仕様確認 → Manager報告

## 責務

1. 型ヒント・ネーミング・構造をレビュー
2. テストカバレッジ確認
3. ポケモン仕様との一致を検証
4. 複数機能相互作用を確認
5. 既存コード一貫性を確認
6. ドキュメント確認

## コードレビューチェックリスト

### 1. 品質
- [ ] 型ヒント: 全関数・変数に型指定
- [ ] ネーミング: 日本語で一貫、わかりやすいか
- [ ] 構造: 単一責任か、複雑すぎないか
- [ ] エラーハンドリング: 例外処理適切
- [ ] Lambda: 複雑さはないか

### 2. テスト
- [ ] カバレッジ: 主要ロジック網羅
- [ ] エッジケース: 境界値・エラー系テスト
- [ ] 回帰テスト: 既存テスト破壊なし
- [ ] test_utils: 共通処理共通化

### 3. 一貫性
- [ ] プロジェクト全体: 既存コードとの一貫性
- [ ] RoleSpec: "role:side"形式正確使用
- [ ] HandlerReturn: 必ず返却
- [ ] イベント/Handler: 正しいパターン

### 4. ドキュメント
- [ ] コメント: 複雑部分にコメント
- [ ] ドックストリング: 関数に説明
- [ ] README: 新機能記録
- [ ] リサーチ: docs/research背景情報

### 5. ポケモン仕様適合性

#### 5.1 基本仕様
- [ ] 発動条件: リサーチ通りに実装
- [ ] 効果: 説明と実装一致
- [ ] 第9世代変更: 過去世代との相違反映

#### 5.2 相互作用
- [ ] 複数特性: 優先順位正確
- [ ] 特性+アイテム: 相互作用実装
- [ ] 技+天候: 威力・効果変化
- [ ] ランク補正: 正しく計算

#### 5.3 エッジケース
- [ ] 瀕死状態: 特性発動判定
- [ ] 交代時: 特性・アイテム効果
- [ ] 場を去る: 効果消滅
- [ ] 上書き: 状態異常判定

#### 5.4 テスト仕様適合性
- [ ] ユニットテスト: 個別機能仕様通り
- [ ] 統合テスト: 複数機能組み合わせ仕様通り

- [ ] **エッジケーステスト**: 例外ケースが正しく処理されるか

## レビュー結果の報告

```markdown
## コードレビュー結果

###  承認事項
- [優れている点]
- [基準を満たしている点]

###  指摘事項
1. [指摘内容]
   - ファイル: [ファイルパス]
   - 行番号: [行]
   - 理由: [なぜ問題か]
   - 修正案: [どう修正するか]

###  その他
- [コメント]
```

## よくある指摘

1. **Lambda の多用**: 名前付き関数を使用
2. **型ヒント不足**: Any 型を避ける
3. **グローバル変数**: 避けるべき
4. **直接的な State 修正**: イベント/Handler 経由で統一
5. **テストコード冗長**: test_utils で共通化

## 知見の記録

実装完了後、本ファイルに以下を追記:
- よくあるコード品質問題
- プロジェクト固有のベストプラクティス
- レビュープロセスの効率化方法
