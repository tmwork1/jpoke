# 未実装要素サマリー

**作成日**: 2026年2月4日  
**更新日**: 2026年2月4日  

> **注**: 詳細分析は [未実装バトルロジック分析.md](未実装バトルロジック分析.md) を参照

---

## 実装状況概要

| カテゴリ | 総数 | 実装済み | 未実装 | 実装率 |
|---------|-----|---------|--------|--------|
| 技 | 759 | ~20 | ~740 | 2.6% |
| 特性 | ~300 | ~15 | ~285 | 5.0% |
| 持ち物 | ~200 | ~45 | ~155 | 22.5% |
| フィールド | ~30 | ~25 | ~5 | 83.3% |
| 状態異常 | 8 | 8 | 0 | 100% |
| 揮発状態 | ~50 | ~18 | ~32 | 36.0% |

---

## 最優先実装項目（Top 10）

### 1. 急所判定システム ★★★★★
- **影響**: 約40技
- **必要**: `ON_CALC_CRITICAL`イベント新設
- **実装箇所**: `core/damage.py`

### 2. 命中判定の完全実装 ★★★★★
- **影響**: 全技
- **必要**: 命中率・回避率ランク補正、必中技処理
- **実装箇所**: `core/move_executor.py`

### 3. 優先度システムの完全実装 ★★★★★
- **影響**: 約50技
- **必要**: 優先度-7～+5の完全対応
- **実装箇所**: `core/speed_calculator.py`

### 4. ひるみシステム ★★★★★
- **影響**: 約37技
- **必要**: `ON_TRY_ACTION`での判定
- **実装箇所**: `core/turn_controller.py`

### 5. HP吸収技の完全実装 ★★★★☆
- **影響**: 約12技
- **必要**: ヘドロえき特性対応
- **実装箇所**: `ON_HIT` Priority 20

### 6. 反動ダメージシステム ★★★★☆
- **影響**: 約17技
- **必要**: 技自体の反動処理
- **実装箇所**: `ON_DAMAGE_2` Priority 100

### 7. 特殊ダメージ計算技 ★★★☆☆
- **影響**: けたぐり、ジャイロボール等約10技
- **必要**: ポケモン体重データ、個別計算式
- **実装箇所**: `core/damage.py`

### 8. 一撃必殺技 ★★★☆☆
- **影響**: 4技（つのドリル、じわれ等）
- **必要**: レベル差判定、専用ダメージ計算
- **実装箇所**: `core/damage.py`

### 9. こだわり系アイテム ★★★★☆
- **影響**: 対戦必須アイテム
- **必要**: 能力1.5倍 + 技固定ロジック
- **実装箇所**: `ON_CALC_POWER_MODIFIER`, `ON_TRY_MOVE`

### 10. きあいのタスキ ★★★★☆
- **影響**: 対戦必須アイテム
- **必要**: HP満タン時の瀕死回避
- **実装箇所**: `ON_MODIFY_DAMAGE` Priority 100

---

## 技カテゴリ別未実装状況

### 能力ランク変化技
- **実装済み**: 基本機能（`common.modify_stat`）
- **未実装**: 
  - 能力依存条件（アシストパワー等）
  - 無効化条件の完全対応

### 状態異常付与技
- **実装済み**: 基本システム完全実装 ✅
- **未実装**:
  - 複合状態異常技（フェイタルクロー等）
  - あばれる中断ロジック

### HP操作系技
- **実装済み**: 基本的なHP吸収
- **未実装**:
  - ヘドロえき特性対応
  - 技自体の反動ダメージ
  - HPコスト技（じばく等）
  - 回復技の失敗判定

### 特殊効果技
- **実装済み**: 混乱、交代強制、ピボット
- **未実装**:
  - ひるみ
  - みがわり
  - まもる系
  - 2ターン技

---

## 特性カテゴリ別未実装状況

### 場に出た時発動
- **実装済み**: いかく、捕捉系（ありじごく等）
- **未実装**:
  - 天候・フィールド設置特性（あめふらし等）
  - ダウンロード
  - トレース

### ダメージ計算時
- **実装済み**: かちき
- **未実装**:
  - タイプ無効化吸収（ちょすい、もらいび等）
  - ダメージ軽減（マルチスケイル等）
  - ダメージ増加（てつのこぶし等）

### 状態異常関連
- **実装済み**: 無効化特性（めんえき、ふみん等）
- **未実装**:
  - シンクロ
  - ポイズンヒール
  - はやあし

---

## イベント実装優先度

### 最優先（★★★★★）
- `ON_CALC_CRITICAL` - 新規定義必要
- `ON_CALC_ACCURACY` - 拡張必要（~30処理）
- `ON_CALC_SPEED` - 拡張必要（~20処理）
- `ON_TRY_ACTION` - 拡張必要（~30処理）
- `ON_TRY_MOVE` - 拡張必要（~150処理）

### 高優先（★★★★☆）
- `ON_TRY_IMMUNE` - 拡張必要（~100処理）
- `ON_MODIFY_DAMAGE` - 拡張必要（~7処理）
- `ON_HIT` - 拡張必要（~50処理）
- `ON_DAMAGE_1` - 拡張必要（~30処理）
- `ON_DAMAGE_2` - 拡張必要（~40処理）

### 中優先（★★★☆☆）
- `ON_SWITCH_IN` - 拡張必要（~100処理）
- `ON_TURN_END系` - 拡張必要（~100処理）
- `ON_PAY_HP` - 実装必要（~5処理）
- `ON_CALC_POWER` - 新規定義検討

---

## 技術的課題

### データ不足
- ポケモン体重情報 → `model/pokemon.py`に追加必要

### イベント不足
- 急所判定イベント → `ON_CALC_CRITICAL`新設必要

### 複雑な状態管理
- みがわり、あばれる、溜め技 → 揮発状態拡張必要

### 特性の動的変更
- トレース、かわりもの → `current_ability`と`original_ability`分離必要

---

## 完全実装への道のり

- **現在**: 約10-15%
- **フェーズ1-2完了**: 約40-50% (核心システム + 技追加効果)
- **フェーズ1-3完了**: 約65-75% (特性実装追加)
- **フェーズ1-5完了**: 約85-95% (全フェーズ完了)

**推定所要期間**: 14-19週間（3.5-5ヶ月）

---

詳細は [未実装バトルロジック分析.md](未実装バトルロジック分析.md) を参照してください。
