# 命中・回避仕様調査書（第5世代以降共通）

## 概要
- 命中判定は技ごとの基本命中率と、命中・回避ランク補正および各種補正倍率により決定される。
- 第5世代以降の計算式は固定小数点スケール（4096基準）で補正値を累積して算出する。

---

# 1. 命中判定基本式（第5世代以降）

## 1.1 基本式
A = 技の命中率 × 命中補正値M × ランク補正 × その他補正


---

## 3.2 ランク倍率（第5世代以降）

| S | 倍率 |
|----|------|
| -6以下 | 3/9 |
| -5 | 3/8 |
| -4 | 3/7 |
| -3 | 3/6 |
| -2 | 3/5 |
| -1 | 3/4 |
| 0 | 3/3 |
| +1 | 4/3 |
| +2 | 5/3 |
| +3 | 6/3 |
| +4 | 7/3 |
| +5 | 8/3 |
| +6以上 | 9/3 |

- 小数点以下切り捨て
- 100を超えた場合は100に丸める

---

# 4. 追加命中補正

## 4.1 ミクルのみ
- 命中率 × 4915 / 4096
- 五捨五超入
- 最大100に丸める

---

## 4.2 特性・状態による回避無視
- はっこう（第9世代以降）：相手の回避率ランクを無視
- みやぶられている／ミラクルアイ：回避率ランクを0扱い

---

# 5. 命中判定の仕様特記事項

## 5.1 複数対象技
- 各対象ごとに独立して命中判定を行う。

---

## 5.2 命中率整数化
- 第3世代以降、補正後の最終命中率は整数化される。

---

## 5.3 からぶりほけん
- 技が外れた場合に発動する。

---

# 6. 命中仕様例外

## 6.1 確定命中状態
- ロックオン・みやぶるなどにより次の技が必中になる。

---

## 6.2 必中特性
- 一部特性により命中判定を無視する。

---

# 7. 命中判定乱数仕様
- 乱数範囲：0～99
- A > 乱数 → 命中

---

# 8. 回避率仕様（定義）

## 8.1 回避率ランク
- 回避率はランク制（-6～+6）
- 命中率ランクと差分で計算される。

---

## 8.2 回避率の適用
- 命中ランクとの差 S により倍率が決定される。

---

# 9. システム仕様まとめ

## 命中決定要素
- 技の基本命中率
- 命中ランク
- 回避ランク
- 特性補正
- どうぐ補正
- フィールド・天候補正
- 固定必中状態

---

## 排他・優先順位
1. 必中状態
2. 基本命中率修正
3. 命中補正値M
4. ランク補正
5. ミクルのみ補正
6. 最大100丸め
7. 乱数判定

---

## 参照URL
https://wiki.xn--rckteqa2e.com/wiki/%E5%91%BD%E4%B8%AD#%E7%AC%AC%E4%BA%94%E4%B8%96%E4%BB%A3%E4%BB%A5%E9%99%8D
